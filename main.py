# Author: Samuel Williams
# Date: 11/7/22
# Version 1.1
# Project: Software Engineering: Assignment 7 part 2.

import unittest
from SoftwareEngineeringProject import *


class TestRetirementCalculator(unittest.TestCase):
    def setUp(self):
        self.rc = RetirementCalculator()

    # SUPPORTS REQUIREMENT Non-Functional 4.
    # This test checks that the file getCustomerData() method has the sufficient permissions to read the customer data.
    def test_filePermissions(self):
        self.assertEquals(self.rc.getCustomerData()['status'], True)

    # SUPPORTS REQUIREMENT Non-Functional 7
    # This tests that the program is not overly secure.
    # The user shall attempt to access the information generated by the program without authorization and be successful

    # SUPPORTS REQUIREMENT Storage Requirement 2
    # This tests that the user downloaded Python 3 from the official site.
    # The user of the program shall download and install Python 3 from https://www.python.org/

    # SUPPORTS REQUIREMENT Storage Requirements 3 & 4
    # This tests that Python 3 was installed on an HDD or SSD drive.
    # The user of the program shall determine the installation location of Python and then check their device's
    # properties the drive that Python is installed on shall either be an SSD or an HDD.

    # SUPPORTS REQUIREMENT Functional Requirement 8.a
    # This test ensures that the total monies paid to the employee data point is correctly generated and
    # that it is a valid value.
    def test_paidToEmployee(self):
        self.assertTrue(float(self.rc.paidToEmployee), "paidToEmployee is not a valid number!")
        self.assertTrue((self.rc.paidToEmployee >= 0), "paidToEmployee cannot be negative!")

    # SUPPORTS REQUIREMENT Functional Requirement 8.b
    # This test ensures that the employee contributions data point is correctly generated and that it is a valid value.
    def test_employeeContribution(self):
        self.assertTrue(float(self.rc.employeeContribution), "employeeContribution is not a valid number!")
        self.assertTrue((self.rc.employeeContribution >= 0), "employeeContribution cannot be negative!")

    # SUPPORTS REQUIREMENT Functional Requirement 8.c
    # This test ensures that the company's contributions data point is correctly generated and that it is a valid value.
    def test_companyContributions(self):
        self.assertTrue(float(self.rc.companyContribution), "companyContributions is not a valid number!")
        self.assertTrue(self.rc.companyContribution >= 0, "companyContributions cannot be negative!")

    # SUPPORTS REQUIREMENT Functional Requirement 8.d
    # This test ensures that the total contributions data point is correctly generated and that it is being correctly
    # calculated.
    def test_totalContributions(self):
        self.assertEqual(self.rc.totalContributions, (self.rc.employeeContribution + self.rc.companyContribution),
                         "Total contributions is not equal to sum of employee and company contributions!")

    # SUPPORTS REQUIREMENT Functional Requirement 9
    # Tests that the string to be displayed for a data point correctly contains the value to be displayed.
    def test_display(self):
        self.assertTrue(self.rc.totalContributions.display(1).find(f'{0}', self.rc.paidToEmployee) != -1,
                        'The display output must contain the amount paid to the employee!')
        self.assertTrue(self.rc.totalContributions.display(2).find(f'{0}', self.rc.employeeContribution) != -1,
                        'The display output must contain the amount the employee contributed!')
        self.assertTrue(self.rc.totalContributions.display(3).find(f'{0}', self.rc.companyContribution) != -1,
                        'The display output must contain the amount the company contributed!')
        self.assertTrue(self.rc.totalContributions.display(4).find(f'{0}', self.rc.companyContribution) != -1,
                        'The display output must contain the amount the total contributions!')


if __name__ == '__main__':
    unittest.main()
